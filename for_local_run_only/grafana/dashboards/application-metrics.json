{
  "title": "Application Metrics Dashboard",
  "id": null,
  "uid": "application-metrics",
    "tags": ["spring-boot", "prometheus", "application"],
    "timezone": "browser",
    "schemaVersion": 38,
    "version": 1,
    "refresh": "10s",
    "panels": [
      {
        "id": 1,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
        "type": "timeseries",
        "title": "HTTP Request Rate (requests/sec)",
        "targets": [
          {
            "expr": "sum(rate(http_server_requests_seconds_count[5m])) by (job)",
            "refId": "A",
            "legendFormat": "{{job}}"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "off"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "red", "value": 100}
              ]
            },
            "unit": "reqps"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 2,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
        "type": "timeseries",
        "title": "HTTP Request Rate by Status",
        "targets": [
          {
            "expr": "sum(rate(http_server_requests_seconds_count{status=\"200\"}[5m])) by (job)",
            "refId": "A",
            "legendFormat": "{{job}} - 200 OK"
          },
          {
            "expr": "sum(rate(http_server_requests_seconds_count{status=~\"4..\"}[5m])) by (job)",
            "refId": "B",
            "legendFormat": "{{job}} - 4xx"
          },
          {
            "expr": "sum(rate(http_server_requests_seconds_count{status=~\"5..\"}[5m])) by (job)",
            "refId": "C",
            "legendFormat": "{{job}} - 5xx"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "off"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 10},
                {"color": "red", "value": 50}
              ]
            },
            "unit": "reqps"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 3,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8},
        "type": "timeseries",
        "title": "HTTP Error Rate (4xx & 5xx)",
        "targets": [
          {
            "expr": "sum(rate(http_errors_4xx_total[5m])) by (job)",
            "refId": "A",
            "legendFormat": "{{job}} - 4xx Errors"
          },
          {
            "expr": "sum(rate(http_errors_5xx_total[5m])) by (job)",
            "refId": "B",
            "legendFormat": "{{job}} - 5xx Errors"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 2,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "off"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 0.1},
                {"color": "red", "value": 1}
              ]
            },
            "unit": "reqps"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 4,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8},
        "type": "timeseries",
        "title": "Response Time (p95, p99)",
        "targets": [
          {
            "expr": "histogram_quantile(0.95, sum(rate(http_server_requests_seconds_bucket[5m])) by (le, job))",
            "refId": "A",
            "legendFormat": "{{job}} - p95"
          },
          {
            "expr": "histogram_quantile(0.99, sum(rate(http_server_requests_seconds_bucket[5m])) by (le, job))",
            "refId": "B",
            "legendFormat": "{{job}} - p99"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 2,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "line"}
            },
            "mappings": [],
            "max": 5,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 0.5},
                {"color": "red", "value": 1}
              ]
            },
            "unit": "s"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 5,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 16},
        "type": "timeseries",
        "title": "JVM Heap Memory Usage",
        "targets": [
          {
            "expr": "sum(jvm_memory_used_bytes{area=\"heap\"}) by (job) / sum(jvm_memory_max_bytes{area=\"heap\"}) by (job) * 100",
            "refId": "A",
            "legendFormat": "{{job}} - Used"
          },
          {
            "expr": "sum(jvm_memory_committed_bytes{area=\"heap\"}) by (job) / sum(jvm_memory_max_bytes{area=\"heap\"}) by (job) * 100",
            "refId": "B",
            "legendFormat": "{{job}} - Committed"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 20,
              "gradientMode": "opacity",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "area"}
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 70},
                {"color": "red", "value": 85}
              ]
            },
            "unit": "percent"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 6,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 16},
        "type": "timeseries",
        "title": "JVM Threads",
        "targets": [
          {
            "expr": "jvm_threads_live_threads",
            "refId": "A",
            "legendFormat": "{{job}} - Live Threads"
          },
          {
            "expr": "jvm_threads_peak_threads",
            "refId": "B",
            "legendFormat": "{{job}} - Peak Threads"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "off"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null}
              ]
            },
            "unit": "short"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 7,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 24},
        "type": "timeseries",
        "title": "Database Connection Pool",
        "targets": [
          {
            "expr": "hikaricp_connections_active / hikaricp_connections_max * 100",
            "refId": "A",
            "legendFormat": "{{pool}} - Active %"
          },
          {
            "expr": "hikaricp_connections_idle",
            "refId": "B",
            "legendFormat": "{{pool}} - Idle"
          },
          {
            "expr": "hikaricp_connections_pending",
            "refId": "C",
            "legendFormat": "{{pool}} - Pending"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "line"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 80},
                {"color": "red", "value": 95}
              ]
            },
            "unit": "percent"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 8,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 24},
        "type": "timeseries",
        "title": "Kafka Messages",
        "targets": [
          {
            "expr": "sum(rate(spring_kafka_template_seconds_count{result=\"success\"}[5m])) by (job)",
            "refId": "A",
            "legendFormat": "{{job}} - Produced"
          },
          {
            "expr": "sum(rate(spring_kafka_listener_seconds_count{result=\"success\"}[5m])) by (job)",
            "refId": "B",
            "legendFormat": "{{job}} - Consumed"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "off"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null}
              ]
            },
            "unit": "msgps"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 9,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 32},
        "type": "table",
        "title": "Top 10 Error Endpoints",
        "targets": [
          {
            "expr": "topk(10, sum by (path, status, error_type) (rate(http_errors_by_status_total[5m])))",
            "refId": "A",
            "format": "table",
            "instant": true
          }
        ],
        "fieldConfig": {
          "defaults": {
            "custom": {
              "align": "auto",
              "cellOptions": {
                "type": "auto"
              },
              "inspect": false
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null}
              ]
            }
          },
          "overrides": []
        },
        "options": {
          "showHeader": true,
          "sortBy": [
            {
              "desc": true,
              "displayName": "Value"
            }
          ]
        }
      },
      {
        "id": 10,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 32},
        "type": "stat",
        "title": "Active Requests",
        "targets": [
          {
            "expr": "sum(http_server_requests_active_seconds_count) by (job)",
            "refId": "A",
            "legendFormat": "{{job}}"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "thresholds"},
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 50},
                {"color": "red", "value": 100}
              ]
            },
            "unit": "short"
          }
        },
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "values": false,
            "calcs": ["lastNotNull"],
            "fields": ""
          },
          "textMode": "auto"
        }
      },
      {
        "id": 11,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 40},
        "type": "timeseries",
        "title": "CPU Usage",
        "targets": [
          {
            "expr": "process_cpu_usage * 100",
            "refId": "A",
            "legendFormat": "{{job}} - Process CPU"
          },
          {
            "expr": "system_cpu_usage * 100",
            "refId": "B",
            "legendFormat": "System CPU"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "line"}
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 70},
                {"color": "red", "value": 90}
              ]
            },
            "unit": "percent"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      },
      {
        "id": 12,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 40},
        "type": "timeseries",
        "title": "GC Pause Time",
        "targets": [
          {
            "expr": "sum(rate(jvm_gc_pause_seconds_sum[5m])) by (job) / sum(rate(jvm_gc_pause_seconds_count[5m])) by (job)",
            "refId": "A",
            "legendFormat": "{{job}} - Avg GC Pause"
          },
          {
            "expr": "jvm_gc_pause_seconds_max",
            "refId": "B",
            "legendFormat": "{{job}} - Max GC Pause"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {"tooltip": false, "viz": false, "legend": false},
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {"type": "linear"},
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {"group": "A", "mode": "none"},
              "thresholdsStyle": {"mode": "off"}
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 0.1},
                {"color": "red", "value": 0.5}
              ]
            },
            "unit": "s"
          }
        },
        "options": {
          "tooltip": {"mode": "multi"},
          "legend": {"calcs": ["lastNotNull", "max"], "displayMode": "table", "placement": "bottom"}
        }
      }
    ],
    "time": {
      "from": "now-6h",
      "to": "now"
    },
    "timepicker": {},
    "templating": {
      "list": []
    },
    "annotations": {
      "list": []
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "links": [],
    "liveNow": false,
    "weekStart": ""
}
